<app-modal-header
  [description]="'configure a new ATM service endpoint and settings'"
  [title]="'Add new merchant'"
></app-modal-header>
<div class="content">
  <form [formGroup]="merchantForm" class="flex flex-col gap-3">
    <section class="flex w-full flex-col gap-3 p-2 rounded-md">
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Merchant Name'"
          [placeholder]="'enter merchant name'"
          formControlName="name"
          [controlName]="'name'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
        <app-qr-select
          formControlName="countryId"
          [controlName]="'countryId'"
          [parentGroup]="merchantForm"
          [options]="countries"
          [label]="'Country'"
          [placeholder]="'select country'"
          [required]="true"
          class="w-1/2"
          (ngModelChange)="getCity($event)"
        ></app-qr-select>
      </div>
      <div class="flex gap-3">
        <app-qr-select
          formControlName="identificationType"
          [controlName]="'identificationType'"
          [parentGroup]="merchantForm"
          [options]="identificationTypes"
          [label]="'Identification Type'"
          [placeholder]="'select identification type'"
          [required]="true"
          class="w-full"
          (ngModelChange)="updateValidation($event)"
        ></app-qr-select>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Merchant ID'"
          [placeholder]="'enter merchant id'"
          formControlName="merchantId"
          [controlName]="'merchantId'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
        <app-qr-select
          formControlName="cityId"
          [controlName]="'cityId'"
          [parentGroup]="merchantForm"
          [options]="cities"
          [label]="'City'"
          [placeholder]="'select city'"
          [required]="true"
          class="w-1/2"
        ></app-qr-select>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Scheme'"
          [placeholder]="'enter Scheme'"
          formControlName="scheme"
          [controlName]="'scheme'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
        <app-qr-input
          class="w-1/2"
          [label]="'MSISDN'"
          [placeholder]="'enter msisdn'"
          formControlName="msisdn"
          [controlName]="'msisdn'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
      </div>
      <div class="flex gap-3">
        <app-qr-select
          formControlName="mcc"
          [controlName]="'mcc'"
          [parentGroup]="merchantForm"
          [options]="mccs"
          [label]="'MCC'"
          [placeholder]="'select mcc'"
          [required]="true"
          class="w-1/2"
        ></app-qr-select>
        <app-qr-input
          class="w-1/2"
          [label]="'Address'"
          [placeholder]="'enter address'"
          formControlName="address"
          [controlName]="'address'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Contact Email'"
          [placeholder]="'enter contact email'"
          formControlName="contactEmail"
          [controlName]="'contactEmail'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
        <app-qr-input
          class="w-1/2"
          [label]="'Contact Phone'"
          [placeholder]="'enter contact phone'"
          formControlName="contactPhone"
          [controlName]="'contactPhone'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Commercial Registration No'"
          [placeholder]="'enter Commercial Registration No'"
          formControlName="commercialRegNo"
          [controlName]="'commercialRegNo'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
        <app-qr-input
          class="w-1/2"
          [label]="'Issuance Place Code'"
          [placeholder]="'enter Issuance Place Code'"
          formControlName="issuancePlaceCode"
          [controlName]="'issuancePlaceCode'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Sole Proprietorship License'"
          [placeholder]="'enter sole proprietorship license'"
          formControlName="soleProprietorshipLicense"
          [controlName]="'soleProprietorshipLicense'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
        <app-qr-input
          class="w-1/2"
          [label]="'Service License Number'"
          [placeholder]="'enter service license number'"
          formControlName="serviceLicenseNumber"
          [controlName]="'serviceLicenseNumber'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
      </div>
      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'National ID'"
          [placeholder]="'enter national id'"
          formControlName="nationalId"
          [controlName]="'nationalId'"
          [parentGroup]="merchantForm"
        ></app-qr-input>
        <app-qr-select
          formControlName="feeProfileId"
          [controlName]="'feeProfileId'"
          [parentGroup]="merchantForm"
          [options]="feesProfiles"
          [label]="'Fee Profile'"
          [placeholder]="'select fee profile'"
          [required]="true"
          class="w-1/2"
        ></app-qr-select>
      </div>

      <div class="flex gap-3">
        <app-qr-input
          class="w-1/2"
          [label]="'Parent Merchant'"
          [placeholder]="''"
          formControlName="parentId"
          [controlName]="'parentId'"
          [parentGroup]="merchantForm"
          [required]="true"
        ></app-qr-input>
        <app-qr-select
          formControlName="merchantType"
          [controlName]="'merchantType'"
          [parentGroup]="merchantForm"
          [options]="merchantTypes"
          [label]="'Merchant Types'"
          [placeholder]="'select merchant type'"
          [required]="true"
          class="w-1/2"
        ></app-qr-select>
      </div>
      <div class="flex gap-3">
        <div class="flex items-center justify-between w-1/2">
          <label> Can Perform Registration </label>
          <nz-switch formControlName="canPerformRegistration"></nz-switch>
        </div>
      </div>
    </section>
  </form>
</div>
<app-modal-footer
  [submitText]="'Save & Submit'"
  (isSubmitted)="submit()"
></app-modal-footer>
